# ุฑุงูููุง ุชูุธู ุฏุชุงุจุณ PostgreSQL

## ูุดฺฉู ูุนู

ูพุฑูฺู ุฏุฑ ุญุงู ุญุงุถุฑ ุงุฒ ุฏุชุงุจุณ SQLite ุงุณุชูุงุฏู ูโฺฉูุฏ ฺฉู ุฏุฑ ูุญุท Netlify ฺฉุงุฑ ููโฺฉูุฏ. ุจุฑุง ุญู ุงู ูุดฺฉู ุจุงุฏ ุงุฒ ฺฉ ุฏุชุงุจุณ PostgreSQL ุงุจุฑ ุงุณุชูุงุฏู ฺฉูู.

## ุฑุงูโุญูโูุง ูุฎุชูู ุจุฑุง ุฏุชุงุจุณ PostgreSQL

ฺูุฏู ฺฏุฒูู ุฑุงฺฏุงู ุจุฑุง ูุฒุจุงู ุฏุชุงุจุณ PostgreSQL ูุฌูุฏ ุฏุงุฑุฏ. ุฏุฑ ุงุฏุงูู ุจูุชุฑู ฺฏุฒููโูุง ุฑุง ูุนุฑู ูโฺฉูู:

## ฺฏุฒูู 1: Neon (ุชูุตู ุดุฏู - ูพุงุฏุงุฑ ู ุฑุงฺฏุงู)

Neon ฺฉ ุงุฒ ุจูุชุฑู ู ูพุงุฏุงุฑุชุฑู ฺฏุฒููโูุง ุฑุงฺฏุงู ุจุฑุง PostgreSQL ุงุณุช ฺฉู ุนููฺฉุฑุฏ ุนุงู ุฏุงุฑุฏ.

### ูุฒุงุง Neon:
- โ PostgreSQL ฺฉุงูู ู ุณุงุฒฺฏุงุฑ 100%
- โ ุฑุงฺฏุงู ุชุง 3GB ูุถุง ุฐุฎุฑูโุณุงุฒ
- โ ุนููฺฉุฑุฏ ุจุณุงุฑ ุฎูุจ
- โ ูพุดุชุจุงู ุงุฒ database branching
- โ ุฑุงูโุงูุฏุงุฒ ุขุณุงู ู ุณุฑุน
- โ ูพุดุชุจุงู ุนุงู ุงุฒ Prisma

### ุฑุงูโุงูุฏุงุฒ Neon (ูุฑุญูู ุจู ูุฑุญูู):

#### ูุฑุญูู 1: ุงุฌุงุฏ ุญุณุงุจ
1. ุจู ุณุงุช [Neon](https://neon.tech) ุจุฑูุฏ
2. ุฑู **Sign Up** ฺฉูฺฉ ฺฉูุฏ
3. ุจุง GitHub ุซุจุชโูุงู ฺฉูุฏ (ุณุฑุนโุชุฑ ู ุขุณุงูโุชุฑ)

#### ูุฑุญูู 2: ุงุฌุงุฏ ูพุฑูฺู
1. ุฑู **Create a project** ฺฉูฺฉ ฺฉูุฏ
2. ูุงู ูพุฑูฺู: `moedyar-database`
3. ููุทูู: **AWS / Europe (Frankfurt)** (ูุฒุฏฺฉโุชุฑู ุจู ุงุฑุงู)
4. PostgreSQL version: **16** (ุฌุฏุฏุชุฑู)
5. ุฑู **Create project** ฺฉูฺฉ ฺฉูุฏ

#### ูุฑุญูู 3: ุฏุฑุงูุช Connection String
1. ูพุณ ุงุฒ ุงุฌุงุฏ ูพุฑูฺูุ ุจู ุตูุญู Dashboard ุจุฑูุฏ
2. ุฏุฑ ุจุฎุด **Connection Details** ุฑู **Pooled connection** ฺฉูฺฉ ฺฉูุฏ
3. Connection string ุฑุง ฺฉูพ ฺฉูุฏ (ูุซู ุฒุฑ):

```
postgresql://username:password@ep-xxx.eu-central-1.aws.neon.tech/neondb?sslmode=require
```

## ฺฏุฒูู 2: Railway (ุณุงุฏู ู ูุฏุฑุชููุฏ)

Railway ฺฉ ูพูุชูุฑู ุณุงุฏู ุจุฑุง ุฏูพูู ู ูุฒุจุงู ุฏุชุงุจุณ ุงุณุช.

### ูุฒุงุง Railway:
- โ $5 ุงุนุชุจุงุฑ ุฑุงฺฏุงู ูุงูุงูู
- โ ุฑุงูโุงูุฏุงุฒ ุจุณุงุฑ ุขุณุงู
- โ PostgreSQL ฺฉุงูู
- โ ูพุดุชุจุงู ุนุงู
- โ UI ุจุณุงุฑ ุณุงุฏู ู ฺฉุงุฑุจุฑูพุณูุฏ

### ุฑุงูโุงูุฏุงุฒ Railway:

1. ุจู ุณุงุช [Railway](https://railway.app) ุจุฑูุฏ
2. ุจุง GitHub ุซุจุชโูุงู ฺฉูุฏ
3. "New Project" > "Provision PostgreSQL" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
4. Connection String ุฑุง ุงุฒ ุชุจ "Connect" ฺฉูพ ฺฉูุฏ

## ฺฏุฒูู 3: Netlify DB (ุฏุฑ ุญุงู ุชูุณุนู)

Netlify ุงุฎุฑุงู ุณุฑูุณ Netlify DB ุฑุง ูุนุฑู ฺฉุฑุฏู ุงูุง ูููุฒ ุฏุฑ ูุฑุญูู ุจุชุง ุงุณุช ู ููฺฉู ุงุณุช ูุดฺฉูุงุช ุฏุงุดุชู ุจุงุดุฏ.

### ูุถุนุช ูุนู:
- โ๏ธ ุฏุฑ ูุฑุญูู ุจุชุง
- โ๏ธ ููฺฉู ุงุณุช ูุดฺฉูุงุช ุงุชุตุงู ุฏุงุดุชู ุจุงุดุฏ
- โ๏ธ ูููุฒ ฺฉุงููุงู ูพุงุฏุงุฑ ูุณุช

### ุงฺฏุฑ ูโุฎูุงูุฏ ุงูุชุญุงู ฺฉูุฏ:
```bash
npm install -g netlify-cli
npx netlify db init --no-boilerplate
```

## ฺฏุฒูู 4: Supabase (ุงฺฏุฑ ูุดฺฉู ุญู ุดูุฏ)

### ูุฑุญูู 1: ุงุฌุงุฏ ุญุณุงุจ Supabase

1. ุจู ุณุงุช [Supabase](https://supabase.com) ุจุฑูุฏ
2. ุฑู **Start your project** ฺฉูฺฉ ฺฉูุฏ
3. ุจุง GitHub ุง ุงูู ุซุจุชโูุงู ฺฉูุฏ

### ูุฑุญูู 2: ุงุฌุงุฏ ูพุฑูฺู ุฌุฏุฏ

1. ุฑู **New Project** ฺฉูฺฉ ฺฉูุฏ
2. ูุงู ูพุฑูฺู ุฑุง `moedyar-db` ุจฺฏุฐุงุฑุฏ
3. ุฑูุฒ ุนุจูุฑ ูู ุจุฑุง ุฏุชุงุจุณ ุงูุชุฎุงุจ ฺฉูุฏ
4. ููุทูู ูุฒุฏฺฉ ุจู ุงุฑุงู (ูุซู Frankfurt) ุงูุชุฎุงุจ ฺฉูุฏ
5. ุฑู **Create new project** ฺฉูฺฉ ฺฉูุฏ

### ูุฑุญูู 3: ุฏุฑุงูุช Connection String

1. ุฏุฑ ูพูู Supabaseุ ุจู ุจุฎุด **Settings** ุจุฑูุฏ
2. ุฑู **Database** ฺฉูฺฉ ฺฉูุฏ
3. ุฏุฑ ุจุฎุด **Connection string**ุ ฺฏุฒูู **URI** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
4. ุฑุดุชู ุงุชุตุงู ุฑุง ฺฉูพ ฺฉูุฏ (ูุซู ุฒุฑ):

```
postgresql://postgres:[YOUR-PASSWORD]@db.xxx.supabase.co:5432/postgres
```

## ุชูุตู ููุง

**ุจูุชุฑู ฺฏุฒูู**: **Neon** - ูพุงุฏุงุฑุ ุฑุงฺฏุงูุ ู ุนููฺฉุฑุฏ ุนุงู

**ฺฏุฒูู ุฏูู**: **Railway** - ุณุงุฏู ู ฺฉุงุฑุจุฑูพุณูุฏ

**ฺฏุฒูู ุณูู**: **Supabase** - ุงฺฏุฑ ูุดฺฉูุงุช ุงุชุตุงู ุญู ุดูุฏ

**ุชูุฌู**: Netlify DB ูููุฒ ุฏุฑ ูุฑุญูู ุจุชุง ุงุณุช ู ุชูุตู ููโุดูุฏ.

## ูุฑุงุญู ููุง ุฑุงูโุงูุฏุงุฒ (ุจุฑุง ูุฑ ุฏุชุงุจุณ)

### ูุฑุญูู 1: ุชูุธู ูุชุบุฑ ูุญุท ุฏุฑ Netlify

1. ูุงุฑุฏ ูพูู Netlify ุดูุฏ: https://app.netlify.com/projects/moedyar-app
2. ุจู **Site settings** ุจุฑูุฏ
3. ุฑู **Environment variables** ฺฉูฺฉ ฺฉูุฏ
4. ูุชุบุฑ ุฌุฏุฏ ุงุถุงูู ฺฉูุฏ:
   - **Key**: `DATABASE_URL`
   - **Value**: ุฑุดุชู ุงุชุตุงู ุฏุชุงุจุณ ฺฉู ฺฉูพ ฺฉุฑุฏุฏ
5. ุฑู **Save** ฺฉูฺฉ ฺฉูุฏ

### ูุฑุญูู 2: ุชูุธู ูุญู (ุงุฎุชุงุฑ)

ุจุฑุง ุชุณุช ูุญูุ ูุงู `.env` ุงุฌุงุฏ ฺฉูุฏ:

```bash
# ุงุฌุงุฏ ูุงู .env
echo "DATABASE_URL=your_connection_string_here" > .env
```

**ุชูุฌู**: ูุงู `.env` ุฑุง ูุฑฺฏุฒ commit ูฺฉูุฏ!

### ูุฑุญูู 3: ุงุฌุฑุง Migration

ูพุณ ุงุฒ ุชูุธู DATABASE_URLุ ุจุงุฏ migration ูุง ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```bash
# ุชููุฏ Prisma Client ุฌุฏุฏ
npx prisma generate

# ุงุฌุฑุง migration ูุง ุฑู ุฏุชุงุจุณ ุฌุฏุฏ
npx prisma db push

# ุจุฑุฑุณ ุงุชุตุงู (ุงุฎุชุงุฑ)
npx prisma studio
```

### ูุฑุญูู 4: ุฏูพูู ูุฌุฏุฏ

```bash
# Build ูพุฑูฺู
npm run build

# ุฏูพูู ุฑู Netlify
netlify deploy --prod
```

### ูุฑุญูู 5: ุชุณุช ููุง

1. ุจู ุณุงุช ุฏูพูู ุดุฏู ุจุฑูุฏ: https://moedyar-app.netlify.app
2. ุณุน ฺฉูุฏ ุซุจุชโูุงู ฺฉูุฏ
3. ุงฺฏุฑ ูููู ุจูุฏุ ูุดฺฉู ุญู ุดุฏู ุงุณุช! ๐

## ุชูุธูุงุช ุงุถุงู

### ุงุฌุงุฏ ฺฉุงุฑุจุฑ ุงุฏูู

ูพุณ ุงุฒ ุชูุธู ุฏุชุงุจุณุ ฺฉ ฺฉุงุฑุจุฑ ุงุฏูู ุงุฌุงุฏ ฺฉูุฏ:

```bash
npx tsx server/scripts/create-admin.ts
```

### ุจุฑุฑุณ ุงุชุตุงู ุฏุชุงุจุณ

ุจุฑุง ุงุทููุงู ุงุฒ ุงุชุตุงู ุตุญุญ:

```bash
npx prisma studio
```

## ูฺฉุงุช ููู

1. **ุงููุช**: ูุฑฺฏุฒ DATABASE_URL ุฑุง ุฏุฑ ฺฉุฏ commit ูฺฉูุฏ
2. **Backup**: Supabase ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ backup ูโฺฏุฑุฏ
3. **ูุญุฏูุฏุช**: ูุณุฎู ุฑุงฺฏุงู Supabase ุชุง 500MB ูุถุง ุฐุฎุฑูโุณุงุฒ ุฏุงุฑุฏ
4. **Performance**: ุจุฑุง ุจูุจูุฏ ุนููฺฉุฑุฏุ index ูุง ููุงุณุจ ุงุถุงูู ฺฉูุฏ

## ุนุจโุงุจ

### ุงฺฏุฑ ุงุชุตุงู ุจุฑูุฑุงุฑ ููโุดูุฏ:

1. ุฑุดุชู ุงุชุตุงู ุฑุง ุฏูุจุงุฑู ุจุฑุฑุณ ฺฉูุฏ
2. ูุทูุฆู ุดูุฏ ฺฉู ุฑูุฒ ุนุจูุฑ ุตุญุญ ุงุณุช
3. ูุงุฑูุงู Supabase ุฑุง ุจุฑุฑุณ ฺฉูุฏ

### ุงฺฏุฑ migration ุงุฌุฑุง ููโุดูุฏ:

1. ูุทูุฆู ุดูุฏ ฺฉู Prisma CLI ูุตุจ ุงุณุช
2. DATABASE_URL ุฑุง ุฏุฑ ูุงู .env ูุญู ุชูุธู ฺฉูุฏ
3. ุฏุณุชูุฑ `npx prisma db push --force-reset` ุฑุง ุงูุชุญุงู ฺฉูุฏ

## ูุฒุงุง PostgreSQL ูุณุจุช ุจู SQLite

- โ ูพุดุชุจุงู ฺฉุงูู ุฏุฑ ูุญุท production
- โ ูุงุจูุชโูุง ูพุดุฑูุชูโุชุฑ
- โ ุนููฺฉุฑุฏ ุจูุชุฑ ุจุฑุง concurrent users
- โ ูพุดุชุจุงู ุงุฒ JSON fields
- โ Full-text search

ูพุณ ุงุฒ ุงูุฌุงู ุงู ูุฑุงุญูุ ูพุฑูฺู ุดูุง ุจุงุฏ ุจู ุฏุฑุณุช ฺฉุงุฑ ฺฉูุฏ ู ฺฉุงุฑุจุฑุงู ุจุชูุงููุฏ ุซุจุชโูุงู ู ูุงุฑุฏ ุดููุฏ.